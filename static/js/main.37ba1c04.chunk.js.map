{"version":3,"sources":["images/logo2.png","images/bocadillo.png","images/chocolate.png","images/coca.png","images/cena.png","Contexto.js","Home.js","firebase/firebase.js","Productos.js","Cart.js","Clientes.js","Test.js","serviceWorker.js","index.js"],"names":["Carrito","React","createContext","children","useState","cantidades","setCantidades","carrito","articulos","Provider","value","currencyFormat","num","toFixed","replace","compare","a","b","fechaA","Disponibles","fechaB","comparison","Home","user","useContext","categorias","name","src","bocadillo","categ","chocolate","coca","cena","data","setData","categoria","setCat","open","setOpen","activeItem","setActiveItem","loading","setLoading","buscar","setBuscar","sacardata","datas","creds","require","doc","GoogleSpreadsheet","useServiceAccountAuth","loadInfo","sheet","sheetsById","getRows","rows","columnCount","cols","headerValues","encabezado","lastr","length","loadCells","startRowIndex","endRowIndex","startColumnIndex","endColumnIndex","j","i","window","getCell","push","console","log","useEffect","Container","Dimmer","active","page","Loader","Modal","onClose","onOpen","size","Header","Content","Image","Description","price","Actions","Button","color","onClick","e","articulo","existe","cant","amt","disponible","Segment","style","display","margin","map","cat","Popup","content","trigger","className","padding","id","item","alignItems","alignContent","prevObject","alt","width","height","Input","icon","placeholder","onChange","overflowY","sort","filter","Product_Name","toLowerCase","includes","Categoria","Price","Product_Id","Divider","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","auth","firestore","makeid","result","characters","charactersLength","charAt","Math","floor","random","Productos","previewImg","allInputs","imgUrl","imageAsFile","setImageAsFile","imageAsUrl","setImageAsUrl","subir","setSubir","saving","setSaving","nombre","setNombre","setCant","precio","setPrecio","handleImageUpload","event","target","files","imageFile","reader","FileReader","preview","document","getElementById","getElementsByTagName","onload","setAttribute","readAsDataURL","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","querySelector","registrar","imagen","inventario","parseFloat","saveUpdatedCells","registrarNuevo","checkID","pID","addRow","error","ref","put","on","snapShot","err","child","getDownloadURL","then","fireBaseUrl","image","wrapped","type","labelPosition","Label","basic","fluid","positive","step","defaultValue","Cart","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","hora","getHours","minutos","getMinutes","fecha","setArticulos","forceUpdate","setValue","useForceUpdate","cliente","setCliente","newCliente","setNewCliente","pago","setPago","ttlamt","setTtlamt","payamt","setPayamt","pedido","setPedido","listaClientes","setListaClientes","temp","prop","obj","pos","arr","mapObj","indexOf","templista","key","text","Cliente","reduce","r","d","alert","pedidoid","now","split","join","pay","pend","applyamt","Fecha","Cantidad","Monto","Payment_Method","Estatus","Entrega","NumPedido","Payment_Amt","Dropdown","search","selection","Icon","disabled","min","forEach","ActCart","circular","Clientes","myArr","registrarPago","toUpperCase","linea","APP","activeMenu","setActiveMenu","SelectMenu","basename","Logo","path","render","props","Menu","widths","Item","as","Link","to","floating","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.37ba1c04.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo2.6908f740.png\";","export default __webpack_public_path__ + \"static/media/bocadillo.89857570.png\";","export default __webpack_public_path__ + \"static/media/chocolate.6b5b731a.png\";","export default __webpack_public_path__ + \"static/media/coca.cfd4d459.png\";","export default __webpack_public_path__ + \"static/media/cena.2a85bd5b.png\";","import React, { useContext, useState } from \"react\";\r\n\r\nexport const Carrito = React.createContext(null);\r\n\r\nexport default ({ children }) => {\r\n  const [cantidades, setCantidades] = useState(0);\r\n  const [articulos, setArticulos] = useState([]);\r\n  const carrito = {\r\n    cantidades: [cantidades, setCantidades],\r\n    articulos: [articulos, setArticulos],\r\n  };\r\n\r\n  return <Carrito.Provider value={carrito}>{children}</Carrito.Provider>;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./App.css\";\r\nimport bocadillo from \"./images/bocadillo.png\";\r\nimport chocolate from \"./images/chocolate.png\";\r\nimport coca from \"./images/coca.png\";\r\nimport cena from \"./images/cena.png\";\r\nimport { Carrito } from \"./Contexto\";\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Header,\r\n  Statistic,\r\n  Table,\r\n  List,\r\n  Popup,\r\n  Image,\r\n  Label,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Dimmer,\r\n  Loader,\r\n  Input,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction currencyFormat(num) {\r\n  return \"$\" + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n}\r\n\r\nfunction compare(a, b) {\r\n  // Use toUpperCase() to ignore character casing\r\n  const fechaA = a.Disponibles;\r\n  const fechaB = b.Disponibles;\r\n\r\n  let comparison = 0;\r\n  if (fechaA > fechaB) {\r\n    comparison = -1;\r\n  } else if (fechaA < fechaB) {\r\n    comparison = 1;\r\n  }\r\n  return comparison;\r\n}\r\n\r\nexport default function Home(user) {\r\n  const {\r\n    [\"cantidades\"]: [cantidades, setCantidades],\r\n  } = useContext(Carrito);\r\n  const categorias = [\r\n    { name: \"Snacks\", src: bocadillo, categ: \"Snacks\" },\r\n    { name: \"Dulces\", src: chocolate, categ: \"Dulces\" },\r\n    { name: \"Bebidas\", src: coca, categ: \"Bebida\" },\r\n    { name: \"Otros\", src: cena, categ: \"Otros\" },\r\n  ];\r\n  const topProducts = [\r\n    {\r\n      name: \"KaChitos Clasicos\",\r\n      src:\r\n        \"https://msflordeloto.com/wp-content/uploads/2020/05/kachitos-de-117-g-.jpg\",\r\n      cat: \"Snacks\",\r\n      price: 0.45,\r\n      id: \"fde03769\",\r\n    },\r\n    {\r\n      name: \"Coca Cola Zero 12oz Lata\",\r\n      src:\r\n        \"https://cdn.shopify.com/s/files/1/2538/5286/products/651820_1500x1500.jpg?v=1588778658\",\r\n      cat: \"Bebida\",\r\n      price: 0.9,\r\n      id: \"j376FUT4\",\r\n    },\r\n    {\r\n      name: \"Oreo\",\r\n      src:\r\n        \"http://sipanfood.com/wp-content/uploads/2020/04/galleta-oreo-768x768.jpg\",\r\n      cat: \"Snacks\",\r\n      price: 0.45,\r\n      id: \"hEGF6Jsp\",\r\n    },\r\n  ];\r\n  const [data, setData] = useState();\r\n  const [categoria, setCat] = useState(\"Snacks\");\r\n  const [open, setOpen] = useState(false); //Top Product\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [buscar, setBuscar] = useState(\"\");\r\n  const [carro, setCarro] = useState(0);\r\n  var listaClientes = [];\r\n  const sacardata = async () => {\r\n    setLoading(true);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[711905343];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    console.log(datas);\r\n    setLoading(false);\r\n  };\r\n  const {\r\n    [\"articulos\"]: [articulos, setArticulos],\r\n  } = useContext(Carrito);\r\n  const agregar = (e) => {\r\n    setOpen(false);\r\n    let articulo = activeItem;\r\n    console.log(articulo);\r\n    let i;\r\n    let existe = false;\r\n    for (i = 0; i < articulos.length; i++) {\r\n      if (articulos[i].name === articulo.name) {\r\n        existe = true;\r\n        articulos[i].cant = articulos[i].cant + 1;\r\n        articulos[i].amt = articulos[i].cant * articulos[i].price;\r\n        break;\r\n      }\r\n    }\r\n    if (!existe) {\r\n      articulos.push(articulo);\r\n    }\r\n    console.log(articulos);\r\n    for (i = 0; i < articulos.length; i++) {\r\n      //let result = articulos.reduce((r, d) => r + d.amt, 0);\r\n      //setTtlamt(result);\r\n    }\r\n    setCantidades(articulos.length);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={loading} page>\r\n        <Loader>Loading</Loader>\r\n      </Dimmer>\r\n      <Modal\r\n        onClose={() => setOpen(false)}\r\n        onOpen={() => setOpen(true)}\r\n        open={open}\r\n        size=\"small\"\r\n      >\r\n        <Modal.Header>{activeItem.name}</Modal.Header>\r\n        <Modal.Content>\r\n          <Image size=\"small\" src={activeItem.src}></Image>\r\n          <Modal.Description>\r\n            <p>\r\n              {activeItem.price\r\n                ? currencyFormat(activeItem.price)\r\n                : activeItem.price}\r\n            </p>\r\n          </Modal.Description>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button\r\n            //disabled={activeItem.disponible <= 0}\r\n            color=\"green\"\r\n            onClick={agregar}\r\n          >\r\n            {activeItem.disponible <= 0 ? \"Out of Stock\" : \"Agregar\"}\r\n          </Button>\r\n          <Button\r\n            color=\"red\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Cancelar\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n      <Segment style={{ display: \"flex\", margin: \"auto\" }}>\r\n        {categorias.map((cat) => (\r\n          <p style={{ margin: \"auto\" }}>\r\n            <Popup\r\n              content={cat.name}\r\n              key={cat.name}\r\n              trigger={\r\n                <Image\r\n                  src={cat.src}\r\n                  size=\"mini\"\r\n                  onClick={() => {\r\n                    setCat(cat.name);\r\n                  }}\r\n                />\r\n              }\r\n            />\r\n            <span style={{ color: cat.name === categoria ? \"red\" : \"black\" }}>\r\n              {cat.name}\r\n            </span>\r\n          </p>\r\n        ))}\r\n      </Segment>\r\n      <Header>Lo Mas Vendido</Header>\r\n      <Segment className=\"pegados\" style={{ padding: \"2%\" }}>\r\n        {topProducts.map((item) => (\r\n          <div\r\n            name={item.name}\r\n            className=\"bordecito\"\r\n            style={{\r\n              margin: \"auto\",\r\n              alignItems: \"center\",\r\n              alignContent: \"center\",\r\n            }}\r\n          >\r\n            {\r\n              <img\r\n                onClick={() => {\r\n                  open ? setOpen(false) : setOpen(true);\r\n                  setActiveItem((prevObject) => ({\r\n                    ...prevObject,\r\n                    name: item.name,\r\n                    price: item.price,\r\n                    src: item.src,\r\n                    id: item.id,\r\n                    cant: 1,\r\n                    amt: item.price,\r\n                  }));\r\n                }}\r\n                src={item.src}\r\n                alt=\"\"\r\n                width=\"75\"\r\n                height=\"75\"\r\n              ></img>\r\n            }\r\n          </div>\r\n        ))}\r\n      </Segment>\r\n      <Input\r\n        icon=\"search\"\r\n        placeholder=\"Buscar...\"\r\n        size=\"small\"\r\n        onChange={(e, { value }) => {\r\n          setBuscar(value);\r\n        }}\r\n      />\r\n      <Segment style={{ height: \"30vh\", overflowY: \"scroll\" }}>\r\n        {data &&\r\n          data\r\n            .sort(compare)\r\n            .filter((item) => {\r\n              return (\r\n                item.Product_Name.toLowerCase().includes(\r\n                  buscar ? buscar.toLowerCase() : buscar\r\n                ) && item.Categoria === categoria\r\n              );\r\n            })\r\n            .map((item) => (\r\n              <div\r\n                style={{\r\n                  margin: \"auto\",\r\n                }}\r\n                onClick={() => {\r\n                  open ? setOpen(false) : setOpen(true);\r\n                  setActiveItem((prevObject) => ({\r\n                    ...prevObject,\r\n                    name: item.Product_Name,\r\n                    price: item.Price,\r\n                    src: item.Image,\r\n                    id: item.Product_Id,\r\n                    cant: 1,\r\n                    amt: item.Price,\r\n                    disponible: item.Disponibles,\r\n                  }));\r\n                }}\r\n              >\r\n                <p>{item.Product_Name}</p>\r\n                <img src={item.Image} alt=\"\" width=\"160\" height=\"160\"></img>\r\n                <p>{currencyFormat(item.Price)}</p>\r\n                <p>\r\n                  {item.Disponibles > 0 ? item.Disponibles : \"Out of Stock\"}\r\n                </p>\r\n                <Divider></Divider>\r\n              </div>\r\n            ))}\r\n      </Segment>\r\n    </Container>\r\n  );\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDCP1U2SBSsthFlctoX96-PhEQpl9Mz048\",\r\n  authDomain: \"sam-snacks.firebaseapp.com\",\r\n  projectId: \"sam-snacks\",\r\n  storageBucket: \"sam-snacks.appspot.com\",\r\n  messagingSenderId: \"501193574524\",\r\n  appId: \"1:501193574524:web:2a6565f9fc01aec44a21f9\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\nconst generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n  if (!snapshot.exists) {\r\n    const { Nombre, Correo, Apellido } = user;\r\n    try {\r\n      await userRef.set({\r\n        Nombre,\r\n        Correo,\r\n        Apellido,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\nexport {\r\n  storage,\r\n  auth,\r\n  firestore,\r\n  generateUserDocument,\r\n  getUserDocument,\r\n  firebase as default,\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./App.css\";\r\nimport bocadillo from \"./images/bocadillo.png\";\r\nimport chocolate from \"./images/chocolate.png\";\r\nimport coca from \"./images/coca.png\";\r\nimport cena from \"./images/cena.png\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { storage } from \"./firebase/firebase\";\r\n\r\nimport { Carrito } from \"./Contexto\";\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Header,\r\n  Statistic,\r\n  Table,\r\n  List,\r\n  Popup,\r\n  Image,\r\n  Label,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Dimmer,\r\n  Loader,\r\n  Input,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction currencyFormat(num) {\r\n  return \"$\" + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n}\r\n\r\nfunction makeid(length) {\r\n  var result = \"\";\r\n  var characters =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction compare(a, b) {\r\n  // Use toUpperCase() to ignore character casing\r\n  const fechaA = a.Disponibles;\r\n  const fechaB = b.Disponibles;\r\n\r\n  let comparison = 0;\r\n  if (fechaA > fechaB) {\r\n    comparison = -1;\r\n  } else if (fechaA < fechaB) {\r\n    comparison = 1;\r\n  }\r\n  return comparison;\r\n}\r\n\r\nexport default function Productos() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [buscar, setBuscar] = useState(\"\");\r\n  const [categoria, setCat] = useState(\"Snacks\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [nombre, setNombre] = useState();\r\n  const [cant, setCant] = useState();\r\n  const [precio, setPrecio] = useState();\r\n  const [open, setOpen] = useState(false);\r\n  const categorias = [\r\n    { name: \"Snacks\", src: bocadillo, categ: \"Snacks\" },\r\n    { name: \"Dulces\", src: chocolate, categ: \"Dulces\" },\r\n    { name: \"Bebidas\", src: coca, categ: \"Bebida\" },\r\n    { name: \"Otros\", src: cena, categ: \"Otros\" },\r\n  ];\r\n  const sacardata = async () => {\r\n    setLoading(true);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[711905343];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    console.log(datas);\r\n    setLoading(false);\r\n  };\r\n\r\n  async function handleImageUpload(event, id) {\r\n    console.log(id);\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      var reader = new FileReader();\r\n\r\n      var preview = document.getElementById(id);\r\n      if (id === \"nuevoProd\") {\r\n        preview = preview.getElementsByTagName(\"img\")[0];\r\n      }\r\n      reader.onload = function (e) {\r\n        preview.setAttribute(\"src\", e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      preview = document.querySelector(id);\r\n      preview.setAttribute(\"src\", \"\");\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  const handleFireBaseUpload = (e) => {\r\n    if (subir) {\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      }\r\n      const uploadTask = storage\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapShot) => {\r\n          //takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        (err) => {\r\n          //catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref(\"images\")\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then((fireBaseUrl) => {\r\n              setImageAsUrl((prevObject) => ({\r\n                ...prevObject,\r\n                imgUrl: fireBaseUrl,\r\n              }));\r\n              console.log(fireBaseUrl);\r\n            });\r\n        }\r\n      );\r\n      setSubir(false);\r\n    }\r\n  };\r\n\r\n  const registrar = async () => {\r\n    setSaving(true);\r\n    console.log(activeItem);\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[711905343];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (sheet.getCell(j, 0).value === activeItem.id) {\r\n        const precio = sheet.getCell(j, 2);\r\n        const imagen = sheet.getCell(j, 3);\r\n        const inventario = sheet.getCell(j, 5);\r\n        if (imageAsUrl.imgUrl) {\r\n          imagen.value = imageAsUrl.imgUrl;\r\n        }\r\n        precio.value = parseFloat(activeItem.price);\r\n        inventario.value = parseFloat(activeItem.disponible);\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n    setImageAsUrl(allInputs);\r\n    setData();\r\n    setSaving(false);\r\n  };\r\n\r\n  const registrarNuevo = async () => {\r\n    setSaving(true);\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[711905343];\r\n    var i;\r\n    var pID;\r\n    var checkID = 1;\r\n    do {\r\n      pID = makeid(8);\r\n      checkID = data.filter((item) => {\r\n        return item.Product_Id === pID;\r\n      }).length;\r\n    } while (checkID != 0);\r\n\r\n    const newData = await sheet.addRow({\r\n      Product_Id: pID,\r\n      Product_Name: nombre,\r\n      Price: precio,\r\n      Disponibles: cant,\r\n      Image: imageAsUrl.imgUrl,\r\n      Categoria: categoria,\r\n    });\r\n    setImageAsUrl(allInputs);\r\n    setData();\r\n    setSaving(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    !data && sacardata();\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    subir && handleFireBaseUpload();\r\n  }, [subir]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={loading || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Modal open={open}>\r\n        <Modal.Header>Nuevo Producto</Modal.Header>\r\n        <Modal.Content image>\r\n          <Image size=\"medium\" id=\"nuevoProd\" src={previewImg} wrapped />\r\n          <Modal.Description>\r\n            <p>NOMBRE</p>\r\n            <Input\r\n              type=\"text\"\r\n              onChange={(e) => {\r\n                setNombre(e.target.value);\r\n              }}\r\n            ></Input>\r\n            <p>DISPONIBLES</p>\r\n            <Input\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setCant(e.target.value);\r\n              }}\r\n            ></Input>\r\n            <p>PRECIO</p>\r\n            <Input\r\n              labelPosition=\"right\"\r\n              type=\"number\"\r\n              placeholder=\"Amount\"\r\n              onChange={(e) => {\r\n                setPrecio(e.target.value);\r\n              }}\r\n            >\r\n              <Label basic>$</Label>\r\n              <input\r\n                type=\"number\"\r\n                onChange={(e) => {\r\n                  setPrecio(e.target.value);\r\n                }}\r\n              />\r\n            </Input>\r\n            <Input\r\n              id=\"anexoImg\"\r\n              fluid\r\n              className=\"input-image\"\r\n              type=\"file\"\r\n              onChange={(e) => {\r\n                handleImageUpload(e, \"nuevoProd\");\r\n              }}\r\n            />\r\n          </Modal.Description>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color=\"red\" onClick={() => setOpen(false)}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            content=\"Guardar\"\r\n            labelPosition=\"right\"\r\n            icon=\"checkmark\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n              registrarNuevo();\r\n            }}\r\n            positive\r\n          />\r\n        </Modal.Actions>\r\n      </Modal>\r\n\r\n      <Segment style={{ display: \"flex\", height: \"10vh\" }}>\r\n        {categorias.map((cat) => (\r\n          <p style={{ margin: \"auto\" }}>\r\n            <Popup\r\n              content={cat.name}\r\n              key={cat.name}\r\n              trigger={\r\n                <Image\r\n                  src={cat.src}\r\n                  size=\"mini\"\r\n                  onClick={() => {\r\n                    setCat(cat.name);\r\n                  }}\r\n                />\r\n              }\r\n            />\r\n            <span style={{ color: cat.name === categoria ? \"red\" : \"black\" }}>\r\n              {cat.name}\r\n            </span>\r\n          </p>\r\n        ))}\r\n      </Segment>\r\n      <div style={{ display: \"flex\" }}>\r\n        <Input\r\n          icon=\"search\"\r\n          placeholder=\"Buscar...\"\r\n          size=\"small\"\r\n          onChange={(e, { value }) => {\r\n            setBuscar(value);\r\n          }}\r\n        />\r\n        <Button\r\n          icon=\"add\"\r\n          content=\"Nuevo\"\r\n          color=\"green\"\r\n          onClick={() => {\r\n            setOpen(true);\r\n          }}\r\n        />\r\n      </div>\r\n      <Segment style={{ height: \"50vh\", overflowY: \"scroll\" }}>\r\n        {data &&\r\n          data\r\n            .sort(compare)\r\n            .filter((item) => {\r\n              return (\r\n                item.Product_Name.toLowerCase().includes(\r\n                  buscar ? buscar.toLowerCase() : buscar\r\n                ) && item.Categoria === categoria\r\n              );\r\n            })\r\n            .map((item) => (\r\n              <div\r\n                style={{\r\n                  width: \"50vw\",\r\n                  margin: \"auto\",\r\n                  display: \"block\",\r\n                }}\r\n              >\r\n                <p style={{ display: \"inline-block\", width: \"50vw\" }}>\r\n                  {item.Product_Name}\r\n                </p>\r\n                <img\r\n                  id={item.Product_Id}\r\n                  src={item.Image}\r\n                  alt=\"\"\r\n                  width=\"120\"\r\n                  height=\"120\"\r\n                ></img>\r\n                <div style={{ display: \"inline-block\", width: \"50vw\" }}>\r\n                  <Label>$</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"0.05\"\r\n                    style={{ width: \"27vw\" }}\r\n                    defaultValue={item.Price}\r\n                    onChange={(e, { value }) => {\r\n                      setPrecio(value);\r\n                      setActiveItem((prevObject) => ({\r\n                        ...prevObject,\r\n                        name: item.Product_Name,\r\n                        price: value,\r\n                        src: item.Image,\r\n                        id: item.Product_Id,\r\n                        disponible: cant ? cant : item.Disponibles,\r\n                      }));\r\n                    }}\r\n                  ></Input>\r\n                </div>\r\n                <div style={{ display: \"inline-block\", width: \"50vw\" }}>\r\n                  <Label>U</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"1\"\r\n                    style={{ width: \"27vw\" }}\r\n                    defaultValue={item.Disponibles}\r\n                    onChange={(e, { value }) => {\r\n                      setCant(value);\r\n                      setActiveItem((prevObject) => ({\r\n                        ...prevObject,\r\n                        name: item.Product_Name,\r\n                        price: precio ? precio : item.Price,\r\n                        src: item.Image,\r\n                        id: item.Product_Id,\r\n                        disponible: value,\r\n                      }));\r\n                    }}\r\n                  ></Input>\r\n                </div>\r\n                <Input\r\n                  id=\"anexoImg\"\r\n                  fluid\r\n                  className=\"input-image\"\r\n                  type=\"file\"\r\n                  onChange={(e) => {\r\n                    handleImageUpload(e, item.Product_Id);\r\n                    setActiveItem((prevObject) => ({\r\n                      ...prevObject,\r\n                      name: item.Product_Name,\r\n                      price: precio ? precio : item.Price,\r\n                      src: item.Image,\r\n                      id: item.Product_Id,\r\n                      disponible: cant ? cant : item.Disponibles,\r\n                    }));\r\n                  }}\r\n                />\r\n                <br />\r\n                <Button\r\n                  color=\"green\"\r\n                  onClick={() => {\r\n                    registrar();\r\n                  }}\r\n                >\r\n                  SAVE\r\n                </Button>\r\n                <Divider />\r\n              </div>\r\n            ))}\r\n      </Segment>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./App.css\";\r\nimport { Carrito } from \"./Contexto\";\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Header,\r\n  Statistic,\r\n  Table,\r\n  List,\r\n  Popup,\r\n  Image,\r\n  Label,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Dimmer,\r\n  Loader,\r\n  Input,\r\n  Dropdown,\r\n} from \"semantic-ui-react\";\r\nimport clientes from \"./clientes.json\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction useForceUpdate() {\r\n  const [value, setValue] = useState(0); // integer state\r\n  return () => setValue((value) => value + 1); // update the state to force render\r\n}\r\n\r\nfunction removeDuplicates(myArr, prop) {\r\n  return myArr.filter((obj, pos, arr) => {\r\n    return arr.map((mapObj) => mapObj[prop]).indexOf(obj[prop]) === pos;\r\n  });\r\n}\r\n\r\nfunction currencyFormat(num) {\r\n  return \"$\" + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n}\r\n\r\nexport default function Cart() {\r\n  //fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //fechas\r\n  const {\r\n    [\"articulos\"]: [articulos, setArticulos],\r\n  } = useContext(Carrito);\r\n  const {\r\n    [\"cantidades\"]: [cantidades, setCantidades],\r\n  } = useContext(Carrito);\r\n  const forceUpdate = useForceUpdate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [cliente, setCliente] = useState();\r\n  const [newCliente, setNewCliente] = useState(false);\r\n  const [pago, setPago] = useState(\"Credito\");\r\n  const [ttlamt, setTtlamt] = useState();\r\n  const [payamt, setPayamt] = useState(0);\r\n  const [pedido, setPedido] = useState(\"Retiro\");\r\n  const [saving, setSaving] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [listaClientes, setListaClientes] = useState([]);\r\n  const sacardata = async () => {\r\n    setLoading(true);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    console.log(datas);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    !data && sacardata();\r\n    if (data) {\r\n      var temp = removeDuplicates(data, \"Cliente\");\r\n      let templista = [];\r\n      templista.push({ key: \"new\", value: \"new\", text: \"new\" });\r\n      var i;\r\n      for (i = 0; i < temp.length; i++) {\r\n        templista.push({\r\n          key: temp[i].Cliente,\r\n          value: temp[i].Cliente,\r\n          text: temp[i].Cliente,\r\n        });\r\n      }\r\n      setListaClientes(templista);\r\n      console.log(temp);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    console.log(listaClientes);\r\n  }, [listaClientes]);\r\n\r\n  useEffect(() => {\r\n    if (articulos) {\r\n      var i;\r\n      for (i = 0; i < articulos.length; i++) {\r\n        let result = articulos.reduce((r, d) => r + d.amt, 0);\r\n        setTtlamt(result);\r\n      }\r\n    }\r\n  }, [articulos]);\r\n\r\n  function ActCart(name, cant, price) {\r\n    articulos.forEach(function (obj) {\r\n      if (obj.name === name) {\r\n        console.log(obj.name);\r\n        obj.cant = cant;\r\n        obj.amt = cant * price;\r\n      }\r\n    });\r\n    var i;\r\n    for (i = 0; i < articulos.length; i++) {\r\n      let result = articulos.reduce((r, d) => r + d.amt, 0);\r\n      setTtlamt(result);\r\n    }\r\n  }\r\n\r\n  const registrar = async () => {\r\n    if (!cliente) {\r\n      alert(\"Escriba su Nombre Completo\");\r\n    } else {\r\n      setSaving(true);\r\n      const creds = require(\"./samsnacks.json\"); // the file saved above\r\n      const doc = new GoogleSpreadsheet(\r\n        \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n      );\r\n      await doc.useServiceAccountAuth(creds);\r\n      await doc.loadInfo(); // loads document properties and worksheets\r\n      const sheet = doc.sheetsById[0];\r\n      const pedidoid = Date.now() + cliente.split(\" \").join(\"\");\r\n      var i;\r\n      var applyamt;\r\n      var pay = parseFloat(payamt);\r\n      var pend = parseFloat(payamt);\r\n      console.log(pend);\r\n      for (i = 0; i < articulos.length; i++) {\r\n        applyamt = 0;\r\n        if (ttlamt > pay) {\r\n          console.log(\"cond1\", i, articulos.length, articulos[i].amt, pend);\r\n          if (articulos[i].amt <= pend) {\r\n            applyamt = articulos[i].amt;\r\n            pend = pend - articulos[i].amt;\r\n          } else {\r\n            applyamt = pend;\r\n          }\r\n        } else {\r\n          if (i === articulos.length - 1) {\r\n            console.log(\"cond2.1\", i, articulos.length, articulos[i].amt, pend);\r\n            applyamt = pend;\r\n          } else {\r\n            console.log(\"cond2.2\", i, articulos.length, articulos[i].amt, pend);\r\n            applyamt = articulos[i].amt;\r\n            pend = pend - articulos[i].amt;\r\n          }\r\n        }\r\n        const newData = await sheet.addRow({\r\n          Fecha: fecha,\r\n          Cliente: cliente,\r\n          Product_Id: articulos[i].id,\r\n          Product_Name: articulos[i].name,\r\n          Cantidad: articulos[i].cant,\r\n          Monto: articulos[i].amt,\r\n          Payment_Method: pago,\r\n          Estatus: \"Pedido\",\r\n          Entrega: pedido,\r\n          //Tel: tel,\r\n          NumPedido: pedidoid,\r\n          Payment_Amt: applyamt,\r\n        });\r\n      }\r\n      alert(`Pedido Realizado, su numero de pedido es ${pedidoid}`);\r\n      setCantidades(0);\r\n      setArticulos([]);\r\n      setTtlamt();\r\n      setCliente();\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={saving || loading} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Header>Finalizar Compra</Header>\r\n      <Segment>\r\n        {newCliente ? (\r\n          <Input\r\n            placeholder=\"Nombre Completo\"\r\n            fluid\r\n            onChange={(e, { value }) => {\r\n              setCliente(value);\r\n            }}\r\n          ></Input>\r\n        ) : (\r\n          <Dropdown\r\n            placeholder=\"Nombre Completo\"\r\n            fluid\r\n            search\r\n            selection\r\n            options={listaClientes}\r\n            onChange={(e, { value }) => {\r\n              value === \"new\" ? setNewCliente(true) : setCliente(value);\r\n            }}\r\n          />\r\n        )}\r\n        <br />\r\n        <p style={{ display: \"inline-block\" }}>\r\n          <Popup\r\n            content=\"Credito\"\r\n            trigger={\r\n              <Button\r\n                icon\r\n                active={pago === \"Credito\"}\r\n                color={pago === \"Credito\" ? \"red\" : \"white\"}\r\n                onClick={() => {\r\n                  setPago(\"Credito\");\r\n                  setPayamt(0);\r\n                }}\r\n              >\r\n                <Icon name=\"thumbs down outline\" />\r\n              </Button>\r\n            }\r\n          ></Popup>\r\n          <Popup\r\n            trigger={\r\n              <Button\r\n                icon\r\n                active={pago === \"Contado\"}\r\n                color={pago === \"Contado\" ? \"green\" : \"white\"}\r\n                onClick={() => {\r\n                  setPago(\"Contado\");\r\n                  setPayamt(ttlamt);\r\n                }}\r\n              >\r\n                <Icon name=\"money bill alternate outline\" />\r\n              </Button>\r\n            }\r\n            content=\"Contado\"\r\n          ></Popup>\r\n          {pago === \"Contado\" && (\r\n            <Input\r\n              step=\"0.05\"\r\n              type=\"number\"\r\n              style={{ width: \"30%\" }}\r\n              defaultValue={payamt}\r\n              onChange={(e, { value }) => {\r\n                setPayamt(value);\r\n              }}\r\n            ></Input>\r\n          )}\r\n\r\n          <Popup\r\n            trigger={\r\n              <Button\r\n                icon\r\n                active\r\n                color={pedido === \"Retiro\" ? \"green\" : \"red\"}\r\n                onClick={() => {\r\n                  setPedido(pedido === \"Retiro\" ? \"Domicilio\" : \"Retiro\");\r\n                }}\r\n              >\r\n                <Icon name={pedido === \"Retiro\" ? \"user\" : \"truck\"} />\r\n              </Button>\r\n            }\r\n            content={pedido}\r\n          ></Popup>\r\n          <Button\r\n            color=\"green\"\r\n            disabled={!cliente || articulos.length === 0}\r\n            onClick={() => {\r\n              registrar();\r\n            }}\r\n          >\r\n            SAVE\r\n          </Button>\r\n          <h2>{ttlamt && currencyFormat(ttlamt)}</h2>\r\n        </p>\r\n      </Segment>\r\n      {articulos && (\r\n        <Segment style={{ height: \"40vh\", overflowY: \"scroll\" }}>\r\n          {articulos.map((item) => (\r\n            <div style={{ display: \"inline-block\", width: \"40vw\" }}>\r\n              <Header>{item.name}</Header>\r\n\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                style={{ width: \"30%\" }}\r\n                defaultValue={item.cant}\r\n                onChange={(e, { value }) => {\r\n                  ActCart(item.name, value, item.price);\r\n                  forceUpdate();\r\n                }}\r\n              ></Input>\r\n              <br />\r\n              <Input style={{ width: \"15%\" }} disabled>\r\n                {currencyFormat(item.amt)}\r\n              </Input>\r\n              <Label circular color=\"red\">\r\n                X\r\n              </Label>\r\n            </div>\r\n          ))}\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./App.css\";\r\nimport bocadillo from \"./images/bocadillo.png\";\r\nimport chocolate from \"./images/chocolate.png\";\r\nimport coca from \"./images/coca.png\";\r\nimport cena from \"./images/cena.png\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { storage } from \"./firebase/firebase\";\r\n\r\nimport { Carrito } from \"./Contexto\";\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Header,\r\n  Statistic,\r\n  Table,\r\n  List,\r\n  Popup,\r\n  Image,\r\n  Label,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Dimmer,\r\n  Loader,\r\n  Input,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction currencyFormat(num) {\r\n  return \"$\" + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n}\r\n\r\nfunction compare(a, b) {\r\n  // Use toUpperCase() to ignore character casing\r\n  const fechaA = a.Cliente;\r\n  const fechaB = b.Cliente;\r\n\r\n  let comparison = 0;\r\n  if (fechaA < fechaB) {\r\n    comparison = -1;\r\n  } else if (fechaA > fechaB) {\r\n    comparison = 1;\r\n  }\r\n  return comparison;\r\n}\r\n\r\nfunction removeDuplicates(myArr, prop) {\r\n  return myArr.filter((obj, pos, arr) => {\r\n    return arr.map((mapObj) => mapObj[prop]).indexOf(obj[prop]) === pos;\r\n  });\r\n}\r\n\r\nclass TravellerCollection extends Array {\r\n  sum(key) {\r\n    return this.reduce((a, b) => a + (b[key] || 0), 0);\r\n  }\r\n}\r\n\r\nexport default function Clientes() {\r\n  //fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //fechas\r\n  const [loading, setLoading] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [buscar, setBuscar] = useState(\"\");\r\n  const [categoria, setCat] = useState(\"Snacks\");\r\n  const [cliente, setCliente] = useState();\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [payamt, setPayamt] = useState(0);\r\n  const [pago, setPago] = useState(\"Efectivo\");\r\n  const categorias = [\r\n    { name: \"Snacks\", src: bocadillo, categ: \"Snacks\" },\r\n    { name: \"Dulces\", src: chocolate, categ: \"Dulces\" },\r\n    { name: \"Bebidas\", src: coca, categ: \"Bebida\" },\r\n    { name: \"Otros\", src: cena, categ: \"Otros\" },\r\n  ];\r\n  const sacardata = async () => {\r\n    setLoading(true);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    console.log(datas);\r\n    setLoading(false);\r\n  };\r\n\r\n  async function handleImageUpload(event, id) {\r\n    console.log(id);\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      var reader = new FileReader();\r\n      var preview = document.getElementById(id);\r\n      reader.onload = function (e) {\r\n        preview.setAttribute(\"src\", e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      preview = document.querySelector(id);\r\n      preview.setAttribute(\"src\", \"\");\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n  const registrarPago = async () => {\r\n    if (!cliente) {\r\n      alert(\"Escriba su Nombre Completo\");\r\n    } else {\r\n      setSaving(true);\r\n      const creds = require(\"./samsnacks.json\"); // the file saved above\r\n      const doc = new GoogleSpreadsheet(\r\n        \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n      );\r\n      await doc.useServiceAccountAuth(creds);\r\n      await doc.loadInfo(); // loads document properties and worksheets\r\n      const sheet = doc.sheetsById[0];\r\n      const pedidoid = Date.now() + cliente.split(\" \").join(\"\");\r\n      var i;\r\n      const newData = await sheet.addRow({\r\n        Fecha: fecha,\r\n        Cliente: cliente,\r\n        Product_Id: \"PAGO\",\r\n        Product_Name: pago,\r\n        Cantidad: 0,\r\n        Monto: 0,\r\n        Payment_Method: \"Contado\",\r\n        Estatus: \"Completado\",\r\n        Entrega: \"NA\",\r\n        //Tel: tel,\r\n        NumPedido: pedidoid,\r\n        Payment_Amt: payamt,\r\n      });\r\n      alert(`Pago Realizado, su numero de pedido es ${pedidoid}`);\r\n      setCliente();\r\n      setData();\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleFireBaseUpload = (e) => {\r\n    if (subir) {\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      }\r\n      const uploadTask = storage\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapShot) => {\r\n          //takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        (err) => {\r\n          //catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref(\"images\")\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then((fireBaseUrl) => {\r\n              setImageAsUrl((prevObject) => ({\r\n                ...prevObject,\r\n                imgUrl: fireBaseUrl,\r\n              }));\r\n              console.log(fireBaseUrl);\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const registrar = async () => {\r\n    setSaving(true);\r\n    console.log(activeItem);\r\n    const creds = require(\"./samsnacks.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1usbvWq_DBOLN4j1wvK-l7QquTHe9yc9PqFRXhhOmZk0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[711905343];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (sheet.getCell(j, 0).value === activeItem.id) {\r\n        const precio = sheet.getCell(j, 2);\r\n        const imagen = sheet.getCell(j, 3);\r\n        const inventario = sheet.getCell(j, 5);\r\n        if (imageAsUrl.imgUrl) {\r\n          imagen.value = imageAsUrl.imgUrl;\r\n        }\r\n        precio.value = parseFloat(activeItem.price);\r\n        inventario.value = parseFloat(activeItem.disponible);\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n    setImageAsUrl(allInputs);\r\n    setSaving(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    !data && sacardata();\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    subir && handleFireBaseUpload();\r\n  }, [subir]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={loading || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Modal open={open}>\r\n        <Modal.Header>{cliente && cliente.toUpperCase()}</Modal.Header>\r\n        <Modal.Content image>\r\n          <Modal.Description>\r\n            <Input\r\n              labelPosition=\"right\"\r\n              type=\"number\"\r\n              placeholder=\"Amount\"\r\n              onChange={(e) => {\r\n                setPayamt(e.target.value);\r\n              }}\r\n            >\r\n              <Label basic>$</Label>\r\n              <input\r\n                type=\"number\"\r\n                onChange={(e) => {\r\n                  setPayamt(e.target.value);\r\n                }}\r\n              />\r\n            </Input>\r\n            <Button\r\n              content={pago}\r\n              icon={pago === \"Efectivo\" ? \"dollar\" : \"exchange\"}\r\n              onClick={() => {\r\n                setPago(pago === \"Efectivo\" ? \"Wire\" : \"Efectivo\");\r\n              }}\r\n            ></Button>\r\n          </Modal.Description>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color=\"red\" onClick={() => setOpen(false)}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            content=\"Guardar\"\r\n            labelPosition=\"right\"\r\n            icon=\"checkmark\"\r\n            onClick={() => {\r\n              registrarPago();\r\n              setOpen(false);\r\n            }}\r\n            positive\r\n          />\r\n        </Modal.Actions>\r\n      </Modal>\r\n\r\n      <Input\r\n        icon=\"search\"\r\n        placeholder=\"Buscar...\"\r\n        size=\"small\"\r\n        onChange={(e, { value }) => {\r\n          setBuscar(value);\r\n        }}\r\n      />\r\n      <Segment style={{ height: \"50vh\", overflowY: \"scroll\" }}>\r\n        {data &&\r\n          removeDuplicates(data, \"Cliente\")\r\n            .sort(compare)\r\n            .filter((item) => {\r\n              return item.Cliente.toLowerCase().includes(\r\n                buscar ? buscar.toLowerCase() : buscar\r\n              );\r\n            })\r\n            .map((item) => (\r\n              <div\r\n                style={{\r\n                  width: \"50vw\",\r\n                  margin: \"auto\",\r\n                  display: \"block\",\r\n                }}\r\n              >\r\n                <p style={{ display: \"inline-block\", width: \"50vw\" }}>\r\n                  {item.Cliente}\r\n                </p>\r\n                <p>\r\n                  {(\r\n                    data\r\n                      .filter((linea) => {\r\n                        return linea.Cliente === item.Cliente;\r\n                      })\r\n                      .reduce(function (a, b) {\r\n                        return a + b.Monto;\r\n                      }, 0) -\r\n                    data\r\n                      .filter((linea) => {\r\n                        return linea.Cliente === item.Cliente;\r\n                      })\r\n                      .reduce(function (a, b) {\r\n                        return a + b.Payment_Amt;\r\n                      }, 0)\r\n                  ).toFixed(2)}\r\n                </p>\r\n                <br />\r\n                <Button color=\"green\" onClick={() => {}}>\r\n                  SAVE\r\n                </Button>\r\n                <Button\r\n                  color=\"green\"\r\n                  onClick={() => {\r\n                    setCliente(item.Cliente);\r\n                    setOpen(true);\r\n                  }}\r\n                >\r\n                  Pagar\r\n                </Button>\r\n                <Divider />\r\n              </div>\r\n            ))}\r\n      </Segment>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport Logo from \"./images/logo2.png\";\r\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\r\nimport {\r\n  Image,\r\n  Container,\r\n  Header,\r\n  Card,\r\n  Label,\r\n  Popup,\r\n  Rating,\r\n  Radio,\r\n  Dimmer,\r\n  Loader,\r\n  Button,\r\n  Divider,\r\n  Segment,\r\n  Dropdown,\r\n  Icon,\r\n  Input,\r\n  Modal,\r\n  Grid,\r\n  Item,\r\n  Checkbox,\r\n  Menu,\r\n} from \"semantic-ui-react\";\r\nimport Home from \"./Home\";\r\nimport Productos from \"./Productos\";\r\nimport Cart from \"./Cart\";\r\nimport Clientes from \"./Clientes\";\r\nimport { Carrito } from \"./Contexto\";\r\n\r\nexport default function APP() {\r\n  const [user, setUser] = useState(\"\");\r\n  const [activeMenu, setActiveMenu] = useState(\"home\");\r\n  const { cantidades } = useContext(Carrito);\r\n\r\n  function SelectMenu(e, { name }) {\r\n    setActiveMenu(name);\r\n  }\r\n  return (\r\n    <Router basename={\"/\"}>\r\n      <Container style={{ padding: \"1%\" }}>\r\n        <Image src={Logo} size=\"tiny\" className=\"bajar\" />\r\n\r\n        <Segment style={{ height: \"75vh\" }}>\r\n          <Switch>\r\n            <Route\r\n              path=\"/cart\"\r\n              render={(props) => <Cart {...props} user={user} />}\r\n            />\r\n            <Route\r\n              path=\"/productos\"\r\n              render={(props) => <Productos {...props} user={user} />}\r\n            />\r\n\r\n            <Route\r\n              path=\"/clientes\"\r\n              render={(props) => <Clientes {...props} user={user} />}\r\n            />\r\n            <Route\r\n              path=\"/\"\r\n              render={(props) => <Home {...props} user={user} />}\r\n            />\r\n          </Switch>\r\n        </Segment>\r\n        <Menu icon=\"labeled\" fluid widths={4} color=\"red\">\r\n          <Menu.Item\r\n            name=\"home\"\r\n            onClick={SelectMenu}\r\n            active={activeMenu === \"home\"}\r\n            as={Link}\r\n            to=\"/\"\r\n          >\r\n            <Icon name=\"home\" />\r\n            Inicio\r\n          </Menu.Item>\r\n\r\n          <Menu.Item\r\n            name=\"productos\"\r\n            onClick={SelectMenu}\r\n            active={activeMenu === \"productos\"}\r\n            as={Link}\r\n            to=\"/productos\"\r\n          >\r\n            <Icon name=\"food\" />\r\n            Productos\r\n          </Menu.Item>\r\n\r\n          <Menu.Item\r\n            name=\"user\"\r\n            onClick={SelectMenu}\r\n            active={activeMenu === \"user\"}\r\n            as={Link}\r\n            to=\"/clientes\"\r\n          >\r\n            <Icon name=\"user\" />\r\n            Clientes\r\n          </Menu.Item>\r\n\r\n          <Menu.Item\r\n            name=\"shop\"\r\n            onClick={SelectMenu}\r\n            active={activeMenu === \"shop\"}\r\n            as={Link}\r\n            to=\"/cart\"\r\n          >\r\n            <Icon name=\"shop\" />\r\n            <Label circular color=\"red\" floating>\r\n              {cantidades}\r\n            </Label>\r\n            Carrito\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Container>\r\n    </Router>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Test\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport CarritoProvider from \"./Contexto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CarritoProvider>\n      <App />\n    </CarritoProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}